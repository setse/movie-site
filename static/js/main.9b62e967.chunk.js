(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,t,n){"use strict";n.r(t);var i=n(21),r=n(0),a=n(3),c=n.n(a),s=n(48),o=n.n(s),l=(n(94),n(95),n(15)),j=n(12),u=n(6),d=n(5),b=n(38),m=n(13),O=n.n(m),v=function(e){return O.a.fire("Login failed"," ".concat(e),"error"),{type:"LOGIN_FAIL",error:e}},x=n(29);function h(){var e=Object(x.a)(["\n  mutation addReview($comment: String!, $rating: Int!, $movie: String!) {\n    addReview(comment: $comment, rating: $rating, movie: $movie) {\n      id\n      rating\n      comment\n    }\n  }\n"]);return h=function(){return e},e}function p(){var e=Object(x.a)(["\n  mutation deleteMovie($id: String!) {\n    deleteMovie(id: $id)\n  }\n"]);return p=function(){return e},e}function g(){var e=Object(x.a)(["\n  mutation editMovie(\n    $id: String!\n    $title: String!\n    $description: String!\n    $releaseDate: String!\n    $duration: Int!\n    $actors: [String!]\n    $thumbnail: String!\n  ) {\n    editMovie(\n      id: $id\n      title: $title\n      description: $description\n      releaseDate: $releaseDate\n      duration: $duration\n      actors: $actors\n      thumbnail: $thumbnail\n    ) {\n      id\n      title\n      description\n      releaseDate\n      duration\n      actors\n      thumbnail\n    }\n  }\n"]);return g=function(){return e},e}function f(){var e=Object(x.a)(["\n  mutation createMovie(\n    $title: String!\n    $description: String!\n    $releaseDate: String!\n    $duration: Int!\n    $actors: [String!]\n    $thumbnail: String!\n  ) {\n    createMovie(\n      title: $title\n      description: $description\n      releaseDate: $releaseDate\n      duration: $duration\n      actors: $actors\n      thumbnail: $thumbnail\n    ) {\n      id\n      title\n      description\n      releaseDate\n      duration\n      actors\n      thumbnail\n    }\n  }\n"]);return f=function(){return e},e}function _(){var e=Object(x.a)(["\n  query movie($id: String!) {\n    movie(id: $id) {\n      id\n      title\n      description\n      releaseDate\n      addedDate\n      duration\n      actors\n      thumbnail\n      ratings\n      ratingsAvg\n      creatorname\n      reviews {\n        id\n        rating\n        comment\n        movie\n        user {\n          id\n          username\n        }\n      }\n    }\n  }\n"]);return _=function(){return e},e}function S(){var e=Object(x.a)(["\n  query movies {\n    movies {\n      id\n      title\n      description\n      releaseDate\n      addedDate\n      duration\n      actors\n      thumbnail\n      ratings\n      ratingsAvg\n      creatorname\n    }\n  }\n"]);return S=function(){return e},e}function N(){var e=Object(x.a)(["\n  query currentUser {\n    currentUser {\n      id\n      username\n    }\n  }\n"]);return N=function(){return e},e}function w(){var e=Object(x.a)(["\n  mutation Login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      token\n    }\n  }\n"]);return w=function(){return e},e}function y(){var e=Object(x.a)(["\n  mutation Register($username: String!, $password: String!) {\n    register(username: $username, password: $password) {\n      id\n      username\n    }\n  }\n"]);return y=function(){return e},e}var C=Object(d.gql)(y()),D=Object(d.gql)(w()),k=Object(d.gql)(N()),$=Object(d.gql)(S()),q=Object(d.gql)(_()),E=Object(d.gql)(f()),M=Object(d.gql)(g()),I=Object(d.gql)(p()),L=Object(d.gql)(h()),A=n(56),R=n.n(A),U=Object(j.f)((function(e){var t=Object(b.b)(),n=Object(d.useMutation)(D,{onCompleted:function(n){var i,r=n.login;t((i=r.token,localStorage.setItem("token",i),O.a.fire("Login succesful!","","success"),{type:"LOGIN_SUCCES",token:i})),e.history.push("/main")},onError:function(e){t(v(e))}}),i=Object(u.a)(n,2),c=i[0],s=i[1],o=(s.loadingLogin,s.errorLogin,Object(a.useState)()),l=Object(u.a)(o,2),j=l[0],m=l[1],x=Object(a.useState)(),h=Object(u.a)(x,2),p=h[0],g=h[1],f=Object(a.useCallback)((function(){c({variables:{username:j,password:p}})}),[j,p]);return Object(r.jsxs)("div",{className:R.a.form,children:[Object(r.jsx)("h1",{children:"Log In"}),Object(r.jsxs)("form",{children:[Object(r.jsxs)("div",{className:R.a.textfield,children:[Object(r.jsx)("input",{type:"username",required:!0,onChange:function(e){return m(e.target.value)}}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{htmlFor:"username",children:"Username"})]}),Object(r.jsxs)("div",{className:R.a.textfield,children:[Object(r.jsx)("input",{type:"password",required:!0,onChange:function(e){return g(e.target.value)}}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{htmlFor:"password",children:"Password"})]}),Object(r.jsx)("button",{type:"submit",className:"button",onClick:function(e){f(),e.preventDefault()},children:"Log In"})]})]})})),P=n(57),T=n.n(P),Q=Object(j.f)((function(e){var t=Object(b.b)(),n=Object(d.useMutation)(C,{onCompleted:function(e){e.register;O.a.fire("Register Succes! Now you can login","","success"),window.location.reload()},onError:function(e){t(v(e))}}),i=Object(u.a)(n,2),c=i[0],s=i[1],o=(s.loadingRegister,s.errorRegister,Object(a.useState)()),l=Object(u.a)(o,2),j=l[0],m=l[1],x=Object(a.useState)(),h=Object(u.a)(x,2),p=h[0],g=h[1],f=Object(a.useCallback)((function(){c({variables:{username:j,password:p}})}),[j,p]);return Object(r.jsxs)("div",{className:T.a.form,children:[Object(r.jsx)("h1",{children:"Sign Up"}),Object(r.jsxs)("form",{children:[Object(r.jsxs)("div",{className:T.a.textfield,children:[Object(r.jsx)("input",{type:"username",required:!0,onChange:function(e){return m(e.target.value)}}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{htmlFor:"username",children:"Username"})]}),Object(r.jsxs)("div",{className:T.a.textfield,children:[Object(r.jsx)("input",{type:"password",required:!0,onChange:function(e){return g(e.target.value)}}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{htmlFor:"password",children:"Password"})]}),Object(r.jsx)("button",{type:"submit",className:"button",onClick:function(e){f(),e.preventDefault()},children:"Sign Up"})]})]})})),F=n(58),G=n.n(F),B=function(){var e=Object(a.useState)("login"),t=Object(u.a)(e,2),n=t[0],i=t[1];return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:G.a.intro,children:[Object(r.jsx)("h2",{children:"Movie App"}),Object(r.jsx)("h5",{children:"Your favorite place to share movies and discuss!"})]}),Object(r.jsxs)("div",{className:"row",children:["signup"===n?Object(r.jsxs)("div",{className:G.a.link,children:["Already have an account?"," ",Object(r.jsx)("button",{onClick:function(){return i("login")},children:"Login"})]}):Object(r.jsxs)("div",{className:G.a.link,children:["Don't have an account?"," ",Object(r.jsx)("button",{onClick:function(){return i("signup")},children:"Sign Up"}),Object(r.jsxs)(l.c,{to:"/main",onClick:function(){O.a.fire("You are entering as a Guest","Guests cannot see movie details","warning")},children:[" ",Object(r.jsx)("p",{children:"Enter as Guest"})]})]}),"signup"===n?Object(r.jsx)(Q,{}):Object(r.jsx)(U,{})]})]})},Y=n(86),H=n.n(Y),V=function(e){var t=e.title,n=e.releaseDate,i=e.thumbnail,a=e.id;return Object(r.jsx)("div",{className:H.a.moviestyle,children:Object(r.jsxs)(l.b,{to:"movie/"+a,children:[Object(r.jsx)("h3",{children:t}),Object(r.jsx)("p",{children:n}),Object(r.jsx)("img",{src:i,alt:t})]})})},J=n(40),X=n.n(J),W=function(e){var t=null!==localStorage.getItem("token"),n=Object(d.useQuery)(k).data,i="guest";return n&&(i=n.currentUser.username,console.log("username: "+i)),Object(r.jsxs)("div",{className:X.a.nav,children:[Object(r.jsx)("div",{className:X.a.logo,children:Object(r.jsx)(l.b,{to:"/main",children:Object(r.jsx)("h1",{children:"Movie App"})})}),Object(r.jsxs)("div",{className:X.a.userprofile,children:[Object(r.jsxs)("h5",{children:["Hello, ",i," \ud83d\ude04 "]}),t?Object(r.jsxs)("div",{className:X.a.links,children:[Object(r.jsx)(l.c,{to:"/mymovies",children:Object(r.jsx)("button",{children:"My Movies"})}),Object(r.jsx)(l.c,{to:"/addmovie",children:Object(r.jsx)("button",{children:"Add Movie"})}),Object(r.jsx)(l.c,{to:"/",children:Object(r.jsx)("button",{onClick:function(){localStorage.removeItem("token")},children:"Log Out"})})]}):Object(r.jsx)("div",{className:X.a.links,children:Object(r.jsx)(l.c,{to:"/auth",children:Object(r.jsx)("button",{children:"Log In"})})})]})]})},z=n(28),Z=n.n(z),K=function(e){var t=Object(d.useQuery)($,{}),n=(t.loading,t.err,t.data),c=localStorage.getItem("sortPref"),s=Object(a.useState)(c),o=Object(u.a)(s,2),l=o[0],j=o[1];return n?Object(r.jsxs)("div",{children:[Object(r.jsx)(W,{}),Object(r.jsxs)("div",{className:Z.a.sortbutton,children:[Object(r.jsx)("div",{className:Z.a.sort1,children:Object(r.jsx)("h4",{children:"Sort by"})}),Object(r.jsx)("div",{className:Z.a.sort2,children:Object(r.jsxs)("select",{onChange:function(e){j(e.target.value),localStorage.setItem("sortPref",e.target.value)},children:[Object(r.jsx)("option",{value:c,selected:!0,disabled:!0,hidden:!0,children:"bydate"===c?"Date":"byname"===c?"Name":"Rating"}),Object(r.jsx)("option",{value:"bydate",children:"Date"}),Object(r.jsx)("option",{value:"byname",children:"Name"}),Object(r.jsx)("option",{value:"byrating",children:"Rating"})]})})]}),Object(r.jsx)("div",{className:Z.a.movielist,children:"byrating"===l?Object(r.jsx)("div",{className:Z.a.movies,children:n.movies.slice().sort((function(e,t){return e.ratingsAvg<t.ratingsAvg?1:t.ratingsAvg<e.ratingsAvg?-1:0})).map((function(e){return Object(r.jsx)(V,Object(i.a)({},e),e.id)}))}):"byname"===l?Object(r.jsx)("div",{className:Z.a.movies,children:n.movies.slice().sort((function(e,t){return e.title>t.title?1:t.title>e.title?-1:0})).map((function(e){return Object(r.jsx)(V,Object(i.a)({},e),e.id)}))}):Object(r.jsx)("div",{className:Z.a.movies,children:n.movies.map((function(e){return Object(r.jsx)(V,Object(i.a)({},e),e.id)}))})})]}):null},ee=n(17),te=n.n(ee),ne=function(e){var t=Object(d.useMutation)(E,{onCompleted:function(t){t.createMovie;O.a.fire("Added Movie succesfully!","","success"),e.history.push("/main")},onError:function(e){O.a.fire("Error","Please check inputs","error")}}),n=Object(u.a)(t,2),i=n[0],c=n[1],s=(c.loading,c.error,Object(a.useState)()),o=Object(u.a)(s,2),l=o[0],j=o[1],b=Object(a.useState)(),m=Object(u.a)(b,2),v=m[0],x=m[1],h=Object(a.useState)(),p=Object(u.a)(h,2),g=p[0],f=p[1],_=Object(a.useState)(),S=Object(u.a)(_,2),N=S[0],w=S[1],y=Object(a.useState)(),C=Object(u.a)(y,2),D=C[0],k=C[1],q=Object(a.useState)(),M=Object(u.a)(q,2),I=M[0],L=M[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)(W,{}),Object(r.jsxs)("div",{className:te.a.form,children:[Object(r.jsx)("h1",{children:"Add Movie"}),Object(r.jsxs)("form",{autocomplete:"off",children:[Object(r.jsxs)("div",{className:te.a.textfield,children:[Object(r.jsx)("input",{type:"text",required:!0,onChange:function(e){return j(e.target.value)}}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{children:"Movie Title:"})]}),Object(r.jsxs)("div",{className:te.a.textfield,children:[Object(r.jsx)("input",{type:"text",required:!0,name:"description",onChange:function(e){return x(e.target.value)}}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{children:"Description:"})]}),Object(r.jsxs)("div",{className:te.a.textfield,children:[Object(r.jsx)("input",{type:"number",required:!0,name:"duration",step:"1",onChange:function(e){return f(e.target.value)}}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{children:"Duration:"})]}),Object(r.jsxs)("div",{className:te.a.textfield,children:[Object(r.jsx)("input",{type:"date",required:!0,name:"date",onChange:function(e){return k(e.target.value)}}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{children:"Release Date:"})]}),Object(r.jsxs)("div",{className:te.a.textfield,children:[Object(r.jsx)("input",{type:"text",required:!0,name:"pic",onChange:function(e){return L(e.target.value)}}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{children:"Thumbnail Picture:"})]}),Object(r.jsxs)("div",{className:te.a.textfield,children:[Object(r.jsx)("input",{type:"text",required:!0,name:"actors",onChange:function(e){return w(e.target.value)}}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{children:"Actors:"})]}),Object(r.jsx)("button",{type:"button",className:"button",onClick:function(e){i({variables:{title:l,description:v,releaseDate:D,duration:+g,thumbnail:I,actors:N},refetchQueries:[{query:$}]})},children:"Submit"})]})]})]})},ie=function(e){var t=Object(d.useQuery)($,{}),n=(t.loading,t.err,t.data),a=Object(d.useQuery)(k).data;return console.log(n),n&&a?Object(r.jsxs)("div",{children:[Object(r.jsx)(W,{}),Object(r.jsx)("div",{className:Z.a.movielist,children:Object(r.jsx)("div",{className:Z.a.movies,children:n.movies.filter((function(e){return e.creatorname===a.currentUser.username})).map((function(e){return Object(r.jsx)(V,Object(i.a)({},e),e.id)}))})})]}):null},re=n(33),ae=n.n(re),ce=n(37),se=n.n(ce),oe=n(45),le=n.n(oe),je=function(e){return Object(r.jsxs)("div",{className:le.a.review,children:[Object(r.jsxs)("h4",{children:[Object(r.jsx)("div",{className:le.a.username,children:e.review.user.username})," ","rated this movie with"," ",Object(r.jsxs)("div",{className:le.a.username,children:[e.review.rating," stars"]})," and commented:"]}),Object(r.jsxs)("div",{className:le.a.comment,children:[Object(r.jsxs)("h3",{children:['"',e.review.comment,'"']}),Object(r.jsx)(se.a,{rating:e.review.rating,starRatedColor:"gold",isSelectable:!1,numberOfStars:5,name:"rating",starDimension:"30px"})]})]})},ue=n(41),de=n.n(ue),be=function(e){var t=Object(d.useMutation)(L,{onCompleted:function(e){e.addReview;O.a.fire("Review added succesfully!","","success")},onError:function(e){e.message.includes("E11000 duplicate key error collection")?O.a.fire("Error","You have already submitted a review","error"):e.message.includes("Review validation failed: comment: Path `comment` is required.")?O.a.fire("Error","Please include a comment!","error"):O.a.fire("Error","".concat(e),"error")}}),n=Object(u.a)(t,2),i=n[0],c=n[1],s=(c.loading,c.error,Object(a.useState)()),o=Object(u.a)(s,2),l=o[0],j=o[1],b=Object(a.useState)(),m=Object(u.a)(b,2),v=m[0],x=m[1];return console.log(e),Object(r.jsxs)("div",{className:de.a.reviews,children:[Object(r.jsx)("div",{className:de.a.title,children:Object(r.jsx)("h1",{children:"User Reviews"})}),Object(r.jsx)("div",{className:de.a.comments,children:e.reviews.map((function(e){return Object(r.jsx)(je,{review:e},e.id)}))}),Object(r.jsxs)("div",{className:de.a.reviewinput,children:[Object(r.jsx)("form",{children:Object(r.jsxs)("div",{className:de.a.input,children:[Object(r.jsx)("label",{children:"Comment"}),Object(r.jsx)("input",{type:"text",onChange:function(e){return x(e.target.value)}}),Object(r.jsx)("label",{children:"Rating"}),Object(r.jsx)(se.a,{rating:l,starRatedColor:"gold",changeRating:j,numberOfStars:5,name:"rating",starDimension:"20px"})]})}),Object(r.jsx)("button",{type:"submit",onClick:function(t){return function(t){t.preventDefault(),i({variables:{rating:+l,comment:v,movie:e.movieid},refetchQueries:[{query:q,variables:{id:e.movieid}}]})}(t)},children:"Submit"})]})]})},me=function(e){var t=Object(d.useQuery)(q,{variables:{id:e.match.params.id}}),n=t.data,i=(t.loading,Object(d.useQuery)(k).data),a=Object(d.useMutation)(I,{onCompleted:function(t){O.a.fire("Deleted!"),e.history.push("/mymovies"),window.location.reload(!1)},onError:function(e){O.a.fire("Cant delete!","","error")}}),c=Object(u.a)(a,2),s=c[0],o=c[1];o.loadingDel,o.errorDel;if(n&&i){var j=n.movie,b=j.thumbnail,m=j.duration,v=j.title,x=j.ratingsAvg,h=j.ratings,p=j.releaseDate,g=j.actors,f=j.addedDate,_=j.creatorname,S=j.description,N=j.id,w=j.reviews;return Object(r.jsxs)("div",{children:[Object(r.jsx)(W,{}),Object(r.jsxs)("div",{className:ae.a.moviebox,children:[Object(r.jsxs)("div",{className:ae.a.title,children:[Object(r.jsx)("h3",{children:v}),Object(r.jsxs)("div",{className:ae.a.creatordetails,children:[Object(r.jsxs)("p",{children:["Added by ",_," "]}),Object(r.jsxs)("p",{children:[" Added at ",new Date(f).toLocaleString()]})]})]}),Object(r.jsxs)("div",{className:ae.a.content,children:[Object(r.jsxs)("div",{className:ae.a.pictureside,children:[Object(r.jsx)("img",{src:b,alt:v}),Object(r.jsx)("br",{}),Object(r.jsx)(se.a,{rating:x,starRatedColor:"gold",isSelectable:!1,numberOfStars:5,name:"rating",starDimension:"25px"}),Object(r.jsxs)("p",{children:["Rated ",h," times"]}),Object(r.jsxs)("p",{children:["Duration: ",m,"min"]})]}),Object(r.jsxs)("div",{className:ae.a.textside,children:[Object(r.jsx)("p",{children:S})," ",Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["Release Date: ",p]})," ",Object(r.jsx)("br",{}),Object(r.jsxs)("p",{children:["Actors: ",g]})," ",Object(r.jsx)("br",{}),n.movie.creatorname===i.currentUser.username?Object(r.jsxs)("div",{className:ae.a.editbutton,children:[Object(r.jsx)(l.b,{to:N+"/edit",children:Object(r.jsx)("button",{children:"Edit This Movie Details"})}),Object(r.jsx)("button",{onClick:function(){s({variables:{id:e.match.params.id}})},children:"Delete"})]}):""]})]})]}),Object(r.jsx)(be,{reviews:w,movieid:N})]})}return"Please sign in to see movie details"},Oe=function(e){var t=Object(d.useMutation)(M,{onCompleted:function(t){t.editMovie;O.a.fire("Movie edited succesfully!","","success"),e.history.push("/movie/"+x)},onError:function(e){O.a.fire("Error","Please check inputs","error")}}),n=Object(u.a)(t,2),i=n[0],c=n[1],s=(c.loading,c.error,Object(d.useQuery)(q,{variables:{id:e.match.params.id}}).data),o="",l="",j="",b=0,m="",v=[],x="";s&&s.movie&&(o=s.movie.title,l=s.movie.description,j=s.movie.releaseDate,b=s.movie.duration,m=s.movie.thumbnail,v=s.movie.actors,x=s.movie.id);var h=Object(a.useState)(o),p=Object(u.a)(h,2),g=p[0],f=p[1],_=Object(a.useState)(l),S=Object(u.a)(_,2),N=S[0],w=S[1],y=Object(a.useState)(j),C=Object(u.a)(y,2),D=C[0],k=C[1],$=Object(a.useState)(b),E=Object(u.a)($,2),I=E[0],L=E[1],A=Object(a.useState)(m),R=Object(u.a)(A,2),U=R[0],P=R[1],T=Object(a.useState)(v),Q=Object(u.a)(T,2),F=Q[0],G=Q[1];return console.log("title : "+g),Object(r.jsxs)("div",{children:[Object(r.jsx)(W,{}),Object(r.jsxs)("div",{className:te.a.form,children:[Object(r.jsx)("h1",{children:"Edit Movie Page"}),Object(r.jsxs)("form",{autocomplete:"off",children:[Object(r.jsxs)("div",{className:te.a.textfield,children:[Object(r.jsx)("input",{type:"text",required:!0,name:"title",value:g,onInput:function(e){f(e.target.value),console.log("target"+e.target.value)}}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{children:"Movie Title:"})]}),Object(r.jsxs)("div",{className:te.a.textfield,children:[Object(r.jsx)("input",{type:"text",required:!0,name:"description",value:N,onChange:function(e){return w(e.target.value)}}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{children:"Description:"})]}),Object(r.jsxs)("div",{className:te.a.textfield,children:[Object(r.jsx)("input",{type:"number",required:!0,name:"duration",step:"1",value:I,onChange:function(e){return L(e.target.value)}}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{children:"Duration:"})]}),Object(r.jsxs)("div",{className:te.a.textfield,children:[Object(r.jsx)("input",{type:"date",required:!0,name:"date",value:D,onChange:function(e){return k(e.target.value)}}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{children:"Release Date:"})]}),Object(r.jsxs)("div",{className:te.a.textfield,children:[Object(r.jsx)("input",{type:"text",required:!0,name:"pic",value:U,onChange:function(e){return P(e.target.value)}}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{children:"Thumbnail Picture:"})]}),Object(r.jsxs)("div",{className:te.a.textfield,children:[Object(r.jsx)("input",{type:"text",required:!0,name:"actors",value:F,onChange:function(e){return G(e.target.value)}}),Object(r.jsx)("span",{}),Object(r.jsx)("label",{children:"Actors:"})]}),Object(r.jsx)("button",{type:"button",className:"button",onClick:function(e){!function(e){e.preventDefault(),i({variables:{id:x,title:g,description:N,releaseDate:D,duration:+I,thumbnail:U,actors:F}})}(e)},children:"Submit"})]})]})]})};var ve=function(){return Object(r.jsx)(l.a,{children:Object(r.jsxs)(j.c,{children:[Object(r.jsx)(j.a,{path:"/main",exact:!0,component:K}),Object(r.jsx)(j.a,{path:"/addmovie",exact:!0,component:ne}),Object(r.jsx)(j.a,{path:"/mymovies",exact:!0,component:ie}),Object(r.jsx)(j.a,{path:"/movie/:id",exact:!0,component:me}),Object(r.jsx)(j.a,{path:"/movie/:id/edit",exact:!0,component:Oe}),Object(r.jsx)(j.a,{path:"/",component:B})]})})},xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,110)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),i(e),r(e),a(e),c(e)}))},he=n(87),pe=n(88),ge=n(35),fe={token:null,error:null},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCES":return Object(i.a)(Object(i.a)({},e),{},{token:t.token,error:null});case"LOGIN_FAIL":return Object(i.a)(Object(i.a)({},e),{},{token:null,error:t.error});default:return e}},Se=Object(ge.b)({auth:_e}),Ne=Object(ge.c)(Se,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),we=Object(pe.a)((function(e){var t=e.graphQLErrors,n=e.networkError;t&&console.log("graphQLErrors",t),n&&console.log("networkError",n)})),ye=new d.HttpLink({uri:"https://moviesiteapi.herokuapp.com/"}),Ce=Object(he.a)((function(e,t){var n=t.headers,r=localStorage.getItem("token");return{headers:Object(i.a)(Object(i.a)({},n),{},{authorization:r?"Bearer ".concat(r):""})}})),De=d.ApolloLink.from([Ce,we,ye]),ke=new d.ApolloClient({cache:new d.InMemoryCache,link:De});o.a.render(Object(r.jsx)(d.ApolloProvider,{client:ke,children:Object(r.jsx)(b.a,{store:Ne,children:Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(ve,{})})})}),document.getElementById("root")),xe()},17:function(e,t,n){e.exports={form:"addmoviepage_form__2maGZ",textfield:"addmoviepage_textfield__347En"}},28:function(e,t,n){e.exports={movielist:"mainpage_movielist__1_b_V",movies:"mainpage_movies__15Ye2",sortbutton:"mainpage_sortbutton__9TbI9",sort1:"mainpage_sort1__3SSGY",sort2:"mainpage_sort2__1Hm6Y"}},33:function(e,t,n){e.exports={moviebox:"moviepage_moviebox__15BJd",title:"moviepage_title__1mhpT",creatordetails:"moviepage_creatordetails__QE_4t",content:"moviepage_content__cNTt3",pictureside:"moviepage_pictureside__21WNF",textside:"moviepage_textside__3tZbn",editbutton:"moviepage_editbutton__1CSOg"}},40:function(e,t,n){e.exports={nav:"navbar_nav__1Hnuu",logo:"navbar_logo__1UVAx",userprofile:"navbar_userprofile__2CGUm",links:"navbar_links__2cq21"}},41:function(e,t,n){e.exports={reviews:"reviewlist_reviews__32Opk",title:"reviewlist_title__2d_HP",comments:"reviewlist_comments__2luWD",reviewinput:"reviewlist_reviewinput__1hzRT",input:"reviewlist_input__2nBim"}},45:function(e,t,n){e.exports={review:"review_review__2GDBq",username:"review_username__iM5dN",comment:"review_comment__2S22S"}},56:function(e,t,n){e.exports={form:"login_form__1CJLT",textfield:"login_textfield__1RVjk"}},57:function(e,t,n){e.exports={form:"register_form__WlI3l",textfield:"register_textfield__3Dicv"}},58:function(e,t,n){e.exports={link:"authpage_link__1t_9k",intro:"authpage_intro__37yoa"}},86:function(e,t,n){e.exports={moviestyle:"movie_moviestyle__3AQna"}},94:function(e,t,n){},95:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.9b62e967.chunk.js.map